!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);const n=new class{constructor(){this.boardSize=4,this.container=null,this.boardEl=null,this.cells=[],this.unit=null,this.unitCell=null,this.idColumn=null,this.titleColumn=null,this.yearColumn=null,this.imdbColumn=null,this.stat=null,this.sortParam=[["id","increase",8595],["id","decrease",8593],["title","increase",8595],["title","decrease",8593],["year","increase",8595],["year","decrease",8593],["imdb","increase",8595],["imdb","decrease",8593]],this.counter=0,this.idHeader=null,this.titleHeader=null,this.yearHeader=null,this.imdbHeader=null}bindToDOM(t){if(!(t instanceof HTMLElement))throw new Error("container is not HTMLElement");this.container=t}drawUi(){this.checkBinding(),this.container.innerHTML='\n      <div class="tableScore">\n        <div class="table">\n          <div class="score_column">\n            <span class="id_header score_cell">id</span>\n            <div class="id_column content_column"></div>\n          </div>\n          <div class="score_column">\n            <span class="title_header score_cell">title</span>\n            <div class="title_column content_column"></div>\n          </div>\n          <div class="score_column">\n            <span class="year_header score_cell">year</span>\n            <div class="year_column content_column"></div>\n          </div>\n          <div class="score_column">\n            <span class="imdb_header score_cell">imbd</span>\n            <div class="imdb_column content_column"></div>\n          </div>\n        </div>\n      </div>\n      <div class="board-container">\n        <div class="board"></div>\n      </div>\n    ',this.boardEl=this.container.querySelector(".board"),this.idColumn=this.container.querySelector(".id_column"),this.titleColumn=this.container.querySelector(".title_column"),this.yearColumn=this.container.querySelector(".year_column"),this.imdbColumn=this.container.querySelector(".imdb_column"),this.idHeader=this.container.querySelector(".id_header"),this.titleHeader=this.container.querySelector(".title_header"),this.yearHeader=this.container.querySelector(".year_header"),this.imdbHeader=this.container.querySelector(".imdb_header");this.parseStat('[\n      {\n        "id": 26,\n        "title": "Побег из Шоушенка",\n        "imdb": 9.30,\n        "year": 1994\n      },\n      {\n        "id": 25,\n        "title": "Крёстный отец",\n        "imdb": 9.20,\n        "year": 1972\n      },\n      {\n        "id": 27,\n        "title": "Крёстный отец 2",\n        "imdb": 9.00,\n        "year": 1974\n      },\n      {\n        "id": 1047,\n        "title": "Тёмный рыцарь",\n        "imdb": 9.00,\n        "year": 2008\n      },\n      {\n        "id": 223,\n        "title": "Криминальное чтиво",\n        "imdb": 8.90,\n        "year": 1994\n      }\n    ]'),this.createStatTable();for(let t=0;t<this.boardSize**2;t+=1){const t=document.createElement("div");t.classList.add("cell"),this.boardEl.appendChild(t)}this.cells=Array.from(this.boardEl.children),this.characterSpawn();const t=this.characterMove.bind(this);setInterval(t,1e3);const e=this.statisticSorting.bind(this);setInterval(e,2e3)}checkBinding(){if(null===this.container)throw new Error("GamePlay not bind to DOM")}characterSpawn(){const t=this.randomCell(this.cells),e=document.createElement("div");e.classList.add("character"),this.cells[t].appendChild(e),this.unit=e,this.unitCell=t}randomCell(t){return Math.floor(Math.random()*t.length)}characterMove(){const t=[...this.cells];t.splice(this.unitCell,1);const e=this.randomCell(t);this.unitCell=e,this.cells[e].appendChild(this.unit)}parseStat(t){this.stat=JSON.parse(t)}sortFunc(t,e){"title"===t?"increase"===e?this.stat.sort((e,i)=>e[t]<i[t]?-1:e[t]>i[t]?1:0):this.stat.sort((e,i)=>e[t]>i[t]?-1:e[t]<i[t]?1:0):"increase"===e?this.stat.sort((e,i)=>e[t]-i[t]):this.stat.sort((e,i)=>i[t]-e[t])}clearStatTable(){for(;this.titleColumn.firstChild;)this.titleColumn.removeChild(this.titleColumn.firstChild);for(;this.yearColumn.firstChild;)this.yearColumn.removeChild(this.yearColumn.firstChild);for(;this.imdbColumn.firstChild;)this.imdbColumn.removeChild(this.imdbColumn.firstChild);for(;this.idColumn.firstChild;)this.idColumn.removeChild(this.idColumn.firstChild)}createStatTable(){for(let t=0;t<this.stat.length;t+=1){const e=document.createElement("span");e.classList.add("score_cell"),e.innerHTML=`${this.stat[t].id}`,this.idColumn.appendChild(e);const i=document.createElement("span");i.classList.add("score_cell"),i.innerHTML=`${this.stat[t].title}`,this.titleColumn.appendChild(i);const n=document.createElement("span");n.classList.add("score_cell"),n.innerHTML=`${this.stat[t].year}`,this.yearColumn.appendChild(n);const r=document.createElement("span");r.classList.add("score_cell"),r.innerHTML=`${this.stat[t].imdb}`,this.imdbColumn.appendChild(r)}}statisticSorting(){this.idHeader.innerHTML="id",this.titleHeader.innerHTML="title",this.yearHeader.innerHTML="year",this.imdbHeader.innerHTML="imdb",this.sortFunc(this.sortParam[this.counter][0],this.sortParam[this.counter][1]),"id"===this.sortParam[this.counter][0]?this.idHeader.innerHTML=`id${String.fromCodePoint(this.sortParam[this.counter][2])}`:"title"===this.sortParam[this.counter][0]?this.titleHeader.innerHTML=`title${String.fromCodePoint(this.sortParam[this.counter][2])}`:"year"===this.sortParam[this.counter][0]?this.yearHeader.innerHTML=`year${String.fromCodePoint(this.sortParam[this.counter][2])}`:"imdb"===this.sortParam[this.counter][0]&&(this.imdbHeader.innerHTML=`imdb${String.fromCodePoint(this.sortParam[this.counter][2])}`),this.counter+=1,this.counter>=this.sortParam.length&&(this.counter=0),this.clearStatTable(),this.createStatTable()}};n.bindToDOM(document.querySelector("#game-container")),n.drawUi()}]);